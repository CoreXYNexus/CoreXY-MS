////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// CornerBrace.scad
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// created 12/27/2020
// last update 1/9/22
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// https://creativecommons.org/licenses/by-sa/4.0/
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 11/30/21	- Added corner brace, changed over to BOSL2
// 1/9/22	- Changed to solid
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
include <bosl2/std.scad>
include <BOSL2/rounding.scad>
include <inc/screwsizes.scad>
$fn=100;
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Thickness=4;
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

CornerBrace(1);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module CornerBrace(Qty=1) {
	for(i = [0:Qty-1]) {
		translate([0,25*i,0]) difference() {
			color("purple") hull() {
				cuboid([80,20,Thickness],rounding=2,p1=[0,0]);
				translate([0,0,75]) cuboid([Thickness,20,Thickness],rounding=2,p1=[0,0]);
			}
			translate([5,20.1,5.5]) BraceSupportv3();
			ScrewMount();
		}
	}
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module BraceSupportv3() {
	$fa=1;$fs=0.3;
	triangle = [[0,0],[0,58],[58,0]];
	rotate([90,0,0]) offset_sweep(triangle, height=20.2, bottom = os_circle(r=-2),steps=20,top = os_circle(r=-2));
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module ScrewMount() {
	translate([12,10,-Thickness]) color("green") cylinder(h=40,d=screw5);
	translate([12,10,Thickness]) color("pink") cylinder(h=25,d=screw5hd);
	translate([-Thickness+1,10,12]) rotate([0,90,0]) color("pink") cylinder(h=40,d=screw5);
	translate([Thickness,10,12]) rotate([0,90,0]) color("green") cylinder(h=25,d=screw5hd);
	translate([65,10,-Thickness]) color("blue") cylinder(h=40,d=screw5);
	translate([65,10,Thickness]) color("purple") cylinder(h=25,d=screw5hd);
	translate([-Thickness+1,10,65]) rotate([0,90,0]) color("red") cylinder(h=40,d=screw5);
	translate([Thickness,10,65]) rotate([0,90,0]) color("gray") cylinder(h=25,d=screw5hd);
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////